## 队列元素的性质

在[[BFS]]求解最短路的过程中，队列中的元素具有**二段性**和**单调性**。

具体来说，假设我们正在从起点`s`开始进行BFS搜索。我们首先将起点`s`加入到队列中。然后，我们开始进行BFS搜索，从队列中依次取出元素，并将其未被访问过的邻居节点加入到队列中。

在搜索过程中，队列中的元素会按照它们到起点`s`的距离进行分段。更具体地说，如果某个节点`u`到起点`s`的距离为`d`，那么它会被加入到第`d`层的队列中。因此，队列中的元素可以被分为若干个层，每个层包含所有到起点`s`距离相同的节点。

在同一层中，队列中的元素的顺序是任意的，因为它们到起点`s`的距离相同。但是，不同层中的元素的顺序是单调的。具体来说，如果节点`u`到起点`s`的距离为`d`，节点`v`到起点`s`的距离为`d+1`，那么节点`u`一定会在节点`v`之前加入到队列中，因为节点`u`的距离比节点`v`更小。

因此，队列中的元素具有二段性和单调性，这使得BFS算法能够高效地求解最短路问题。

通过**数学归纳法**来证明BFS的入队元素具有单调性。

- 基础步骤：当队列中只有一个节点时，显然具有单调性。

- 归纳假设：假设在队列中有 $n$ 个节点时，队列中的元素具有单调性。

- 归纳证明：考虑当队列中有 $n+1$ 个节点时，由于队列具有二段性，可以将队列中的节点分为两段：第一段包含前 $k$ 个节点，第二段包含后 $n+1-k$ 个节点，其中 $1 \leq k \leq n$。

由归纳假设可知，第一段的节点是单调的，而第二段的节点也是单调的。由于节点之间是按照一定顺序加入队列的，因此第一段中的节点的编号一定小于第二段中的节点的编号。因此，整个队列中的节点也是单调的。

## 两个特点

具体来说，队列中的元素具有以下两个特点：

二段性：队列中的元素按照它们到起点`s`的距离分为若干层，每个层包含所有到起点`s`距离相同的节点。因此，对于队列中的任意时刻，队列中的元素可以被分为两段，一段是当前正在处理的层级（当前层级），另一段是尚未处理的层级（下一层级）。具体来说，当前层级中的元素之间没有相邻的节点，而下一层级中的元素之间也没有相邻的节点。因此，队列中的元素具有二段性。


单调性：每个节点被访问时，其相邻节点将按照一定顺序（如按字母顺序）被加入到队列中。因此，队列中的元素是单调的，即在队列中，相同层级的节点是按照它们在图中的相对顺序排列的。具体来说，假设队列中有两个相邻的节点 `u` 和 `v`，它们在同一层级，并且在图中，节点 `u` 在节点 `v` 的前面。那么当 `u` 和 `v` 被加入到队列中时，`u` 会先被加入到队列中，然后才是 `v`，因此 `u` 出队的时间比 `v` 更早，所以队列中的元素是单调的。


这些特点使得BFS算法能够高效地求解最短路问题。

具体来说，BFS算法按照层次顺序依次处理节点，每次处理一个节点时，它一定是离起点`s`最近的还未被处理的节点之一。这保证了BFS算法能够找到到起点`s`最短的路径，并且不会重复处理节点。

因此，队列中的元素具有二段性和单调性是BFS算法求解最短路问题的重要特点，也是BFS算法能够高效求解最短路问题的关键因素之一。