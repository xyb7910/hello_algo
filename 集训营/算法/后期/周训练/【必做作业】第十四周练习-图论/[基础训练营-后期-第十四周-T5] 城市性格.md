# [基础训练营-后期-第十四周-T5] 城市性格

## 题目描述

K 星球是由 $N$ 座城市 $N-1$ 条无向道路组成的连通的王国，每条道路的长度均为 $1$。

每个城市有每个城市的城市性格。第 $i$ 个城市的城市性格可以由一个整数 $C_i$ 表示。

Fujisaki 决定游历每一对城市。具体来说，对于所有的 $1 \le i,j \le N$，Fujisaki 将从城市 $i$ 出发，沿着最短路线 $i \rightarrow v_1 \rightarrow v_2 \rightarrow \cdots \rightarrow j$，前往城市 $j$ 游玩，记为 $(i,j)$。Fujisaki 进行 $(i,j)$ 的游玩，可以收获的情绪值为 $C_i \oplus C_{v_1} \oplus C_{v_2} \oplus \cdots \oplus C_j$，其中 $\oplus$ 代表异或运算。

请问，当 Fujisaki 完成全部的 $N^2$ 次游玩后，获得的情绪值的总和为多少？

## 输入格式

输入共 $N +1$ 行。

输入的第一行为一个整数 $N$。

输入的第二行为 $N$ 个正整数，第 $i$ 个为 $C_i$。

接下来 $N-1$ 行，每行两个整数 $u,v$，表示城市 $u$ 和城市 $v$ 之间有道路。

## 输出格式

输出一行一个整数，代表情绪值的总和。

## 样例 #1

### 样例输入 #1

```
6
3 5 5 11 10 14
2 6
2 3
6 4
4 5
4 1
```

### 样例输出 #1

```
250
```

## 提示

- 对于 $30\%$ 的测试数据，$N \le 30$；
 - 对于 $100\%$ 的测试数据，$1 \le N \le 1000$，$1 \le C_i \le 10^5$。