# [2401MT-D] 光辉的涨落

## 题目描述

小 F 放假了，他要从学校回家。

城市间的交通图可以被抽象为由 $N$ 个节点、$M$ 条有向边组成的**有向无环图**。小 F 的学校在 $1$ 号节点，家在 $N$ 号节点。

小 F 将通过驾车的方式回家。每经过一条有向边，会消耗一定数量的汽油，边的种类分为两种：

- 消耗固定数量的汽油。经过该条有向边，汽车剩余的汽油数量将减去固定数量。
- 消耗固定比例的汽油。经过该条有向边，汽车剩余的汽油数量将乘以一个固定的数量，向下取整。

现在，给出 $M$ 条边的信息，请问小 F 在出发时，至少携带多少单位的汽油，才能顺利到家？

## 输入格式

输入共 $M+1$ 行。

输入的第一行为两个整数 $N,M$。

接下来 $M$ 行，每行四个数：

- `1 p u v`，表示这条边固定消耗 $p$ 单位汽油，由 $u$ 指向 $v$。$p$ 为整数。
- `2 w u v`，表示这条边消耗固定比例的汽油，假设进入这条边前剩余 $k$ 单位汽油，离开这条边时剩余 $\lfloor wk\rfloor$ 单位汽油，由 $u$ 指向 $v$。$w$ 是一个 $(0,1)$ 间的浮点数，小数点后最多三位。

## 输出格式

输出一行一个整数，代表最少携带的汽油数目。

## 样例 #1

### 样例输入 #1

```
4 4
1 3 1 2
2 0.2 1 3
1 2 2 4
2 0.2 3 4
```

### 样例输出 #1

```
5
```

## 提示

- 对于 $10\%$ 的测试数据，为一条链。
- 对于另外 $20\%$ 的测试数据，$m \le 1000$。
- 对于 $100\%$ 的测试数据，$n \le 1000$，$m \le 10^6$，所需汽油总数不超过 $10^9$。